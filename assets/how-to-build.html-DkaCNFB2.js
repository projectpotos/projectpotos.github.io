import{_ as r,r as l,o as s,c as a,a as e,b as o,d as n,e as t}from"./app-IOn6Q2F5.js";const d={},c=e("h1",{id:"how-to-build-an-iso",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#how-to-build-an-iso","aria-hidden":"true"},"#"),o(" How to build an ISO")],-1),u=e("a",{href:"./config"},[e("code",null,"config/")],-1),h={href:"https://github.com/projectpotos/potos-iso-builder/tree/main/config",target:"_blank",rel:"noopener noreferrer"},b=e("a",{href:"./config"},"here",-1),p=t('<p>To build the iso yourself, you can choose between one of the following possibilities:</p><ul><li><a href="#build-iso">Plain Docker</a></li><li><a href="#docker-compose">Docker Compose</a></li><li><a href="#github-workflow">Github Actions</a></li></ul><p>If you want to build the build container yourself <a href="#build-your-own-container-image">link</a></p><h2 id="build-iso" tabindex="-1"><a class="header-anchor" href="#build-iso" aria-hidden="true">#</a> Build iso</h2><h3 id="docker-plain" tabindex="-1"><a class="header-anchor" href="#docker-plain" aria-hidden="true">#</a> Docker plain</h3><ol><li>Have a workdirectory with your <a href="./config"><code>config/</code></a> adjusted for your client</li><li>Run <code>docker pull ghcr.io/projectpotos/potos-iso-builder:latest</code> to download the latest iso builder</li><li>Run <code>docker run -it -v $(pwd)/config:/config:Z -v $(pwd)/output:/output:Z ghcr.io/projectpotos/potos-iso-builder:latest</code></li><li>Enjoy the iso in <code>output/</code></li></ol><h3 id="docker-compose" tabindex="-1"><a class="header-anchor" href="#docker-compose" aria-hidden="true">#</a> Docker compose</h3>',7),f=e("li",null,[o("Have a workdirectory with your "),e("a",{href:"./config"},[e("code",null,"config/")]),o(" adjusted for your client")],-1),m=e("code",null,"docker-compose.yml",-1),v={href:"https://github.com/projectpotos/potos-iso-builder/blob/main/docker-compose.yml",target:"_blank",rel:"noopener noreferrer"},_=e("li",null,[o("Run "),e("code",null,"docker-compose pull && docker-compose up"),o(" in the main directory")],-1),g=e("li",null,[o("Enjoy the iso in "),e("code",null,"output/")],-1),k=t(`<h3 id="github-workflow" tabindex="-1"><a class="header-anchor" href="#github-workflow" aria-hidden="true">#</a> Github Workflow</h3><ol><li>Create a new repo containing the <code>config</code> directory adjusted for your client</li><li>Create the following file as workflow file under <code>.github/workflows/isobuild.yml</code></li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>name: Build Iso
on:
  workflow_dispatch:
  pull_request:
jobs:
  build:
    name: Build Iso
    runs-on: ubuntu-latest
    steps:
      - name: Check out the repo
        uses: actions/checkout@v3
      - name: Run the build process with Docker
        uses: addnab/docker-run-action@v3
        with:
          image: ghcr.io/projectpotos/potos-iso-builder:latest
          run: ./build-iso
          options: -v \${{ github.workspace }}/config:/config:Z -v /output:/output:Z
      - name: Save iso
        uses: actions/upload-artifact@v3
        with:
          name: potos-iso
          path: /output/*.iso
          retention-days: 1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="build-your-own-container-image" tabindex="-1"><a class="header-anchor" href="#build-your-own-container-image" aria-hidden="true">#</a> Build your own container image</h2>`,4),w={href:"https://github.com/projectpotos/potos-iso-builder",target:"_blank",rel:"noopener noreferrer"},y=e("code",null,"potos-iso-builder",-1),x={href:"https://github.com/projectpotos/potos-iso-builder/blob/main/README.md",target:"_blank",rel:"noopener noreferrer"};function j(E,B){const i=l("ExternalLinkIcon");return s(),a("div",null,[c,e("p",null,[o("Make sure you have your "),u,o(" directory available. For your first ISO build tests we recommend to use our sample from the following repo "),e("a",h,[o("link"),n(i)]),o(". You can find further information about this config directory "),b]),p,e("ol",null,[f,e("li",null,[o("Copy the "),m,o(" file from "),e("a",v,[o("here"),n(i)]),o(" to that directory")]),_,g]),k,e("p",null,[o("If you want to build the build container image yourself, have a look at the "),e("a",w,[y,n(i)]),o(" repo. All the container relevant files are in the container subdirectory and are described in the "),e("a",x,[o("README"),n(i)])])])}const D=r(d,[["render",j],["__file","how-to-build.html.vue"]]);export{D as default};
