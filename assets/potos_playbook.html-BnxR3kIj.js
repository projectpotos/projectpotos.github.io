import{_ as l,r as a,o as s,c as i,a as o,b as e,d as r,e as n}from"./app-IOn6Q2F5.js";const c={},d=o("h1",{id:"potos-playbook",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#potos-playbook","aria-hidden":"true"},"#"),e(" Potos Playbook")],-1),p={href:"https://github.com/projectpotos/ansible-plays-potos",target:"_blank",rel:"noopener noreferrer"},h=n('<p>This repository contains 2 playbooks.</p><h2 id="prepare-yml" tabindex="-1"><a class="header-anchor" href="#prepare-yml" aria-hidden="true">#</a> prepare.yml</h2><p>This playbook does the following:</p><ol><li>It reads what specs repository is defined to use in <code>/etc/potos/specs_repo.yml</code> and then clones that repo.</li><li>It copies the files from the <code>templates</code> to the playbook directory and applies the templating.</li><li>It copies the files from the <code>files</code> to the playbook directory without applying any templating.</li><li>It copies the files from the <code>vars</code> directory into the location, so that they are in <code>playbook.yml</code> availables as <code>host_vars</code> for localhost.</li><li>It installs all the collections defined in the <code>collection.yml</code></li></ol><h2 id="playbook-yml" tabindex="-1"><a class="header-anchor" href="#playbook-yml" aria-hidden="true">#</a> playbook.yml</h2><p>This playbook does the following:</p><ol><li>It reads the specs definition and defines the client name as <code>potos_plays_client_full_name</code> for the long version and <code>potos_plays_client_short_name</code> for the short version</li><li>It templates the <code>templates/requirements.yml.j2</code> from the playbook directory to <code>requirements.yml</code> for later usage</li><li>It installs all the roles defined in <code>requirements.yml</code></li><li>It executes all the roles defined in <code>requirements.yml</code></li></ol>',7);function y(m,f){const t=a("ExternalLinkIcon");return s(),i("div",null,[d,o("p",null,[e("Potos clients use the "),o("a",p,[e("global playbook"),r(t)]),e(" to execute the Ansible roles defined in the specs repository.")]),h])}const b=l(c,[["render",y],["__file","potos_playbook.html.vue"]]);export{b as default};
